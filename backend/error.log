{"level":"error","message":"Cannot find module 'axios'\nRequire stack:\n- /Users/yacn/Desktop/ıcy/backend/src/services/automation.js\n- /Users/yacn/Desktop/ıcy/backend/src/controllers/appointmentController.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/appointmentRoutes.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/index.js\n- /Users/yacn/Desktop/ıcy/backend/src/app.js\n- /Users/yacn/Desktop/ıcy/backend/src/server.js","method":"POST","service":"icy-backend","stack":"Error: Cannot find module 'axios'\nRequire stack:\n- /Users/yacn/Desktop/ıcy/backend/src/services/automation.js\n- /Users/yacn/Desktop/ıcy/backend/src/controllers/appointmentController.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/appointmentRoutes.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/index.js\n- /Users/yacn/Desktop/ıcy/backend/src/app.js\n- /Users/yacn/Desktop/ıcy/backend/src/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)\n    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)\n    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)\n    at Module._load (node:internal/modules/cjs/loader:1226:37)\n    at TracingChannel.traceSync (node:diagnostics_channel:328:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)\n    at Module.require (node:internal/modules/cjs/loader:1503:12)\n    at require (node:internal/modules/helpers:152:16)\n    at Object.<anonymous> (/Users/yacn/Desktop/ıcy/backend/src/services/automation.js:1:15)\n    at Module._compile (node:internal/modules/cjs/loader:1760:14)","timestamp":"2026-01-28 20:20:32","url":"/api/appointments"}
{"level":"error","message":"Cannot find module 'axios'\nRequire stack:\n- /Users/yacn/Desktop/ıcy/backend/src/services/automation.js\n- /Users/yacn/Desktop/ıcy/backend/src/controllers/appointmentController.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/appointmentRoutes.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/index.js\n- /Users/yacn/Desktop/ıcy/backend/src/app.js\n- /Users/yacn/Desktop/ıcy/backend/src/server.js","method":"POST","service":"icy-backend","stack":"Error: Cannot find module 'axios'\nRequire stack:\n- /Users/yacn/Desktop/ıcy/backend/src/services/automation.js\n- /Users/yacn/Desktop/ıcy/backend/src/controllers/appointmentController.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/appointmentRoutes.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/index.js\n- /Users/yacn/Desktop/ıcy/backend/src/app.js\n- /Users/yacn/Desktop/ıcy/backend/src/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)\n    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)\n    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)\n    at Module._load (node:internal/modules/cjs/loader:1226:37)\n    at TracingChannel.traceSync (node:diagnostics_channel:328:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)\n    at Module.require (node:internal/modules/cjs/loader:1503:12)\n    at require (node:internal/modules/helpers:152:16)\n    at Object.<anonymous> (/Users/yacn/Desktop/ıcy/backend/src/services/automation.js:1:15)\n    at Module._compile (node:internal/modules/cjs/loader:1760:14)","timestamp":"2026-01-28 20:22:06","url":"/api/appointments"}
{"level":"error","message":"Cannot find module 'axios'\nRequire stack:\n- /Users/yacn/Desktop/ıcy/backend/src/services/automation.js\n- /Users/yacn/Desktop/ıcy/backend/src/controllers/appointmentController.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/appointmentRoutes.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/index.js\n- /Users/yacn/Desktop/ıcy/backend/src/app.js\n- /Users/yacn/Desktop/ıcy/backend/src/server.js","method":"POST","service":"icy-backend","stack":"Error: Cannot find module 'axios'\nRequire stack:\n- /Users/yacn/Desktop/ıcy/backend/src/services/automation.js\n- /Users/yacn/Desktop/ıcy/backend/src/controllers/appointmentController.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/appointmentRoutes.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/index.js\n- /Users/yacn/Desktop/ıcy/backend/src/app.js\n- /Users/yacn/Desktop/ıcy/backend/src/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)\n    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)\n    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)\n    at Module._load (node:internal/modules/cjs/loader:1226:37)\n    at TracingChannel.traceSync (node:diagnostics_channel:328:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)\n    at Module.require (node:internal/modules/cjs/loader:1503:12)\n    at require (node:internal/modules/helpers:152:16)\n    at Object.<anonymous> (/Users/yacn/Desktop/ıcy/backend/src/services/automation.js:1:15)\n    at Module._compile (node:internal/modules/cjs/loader:1760:14)","timestamp":"2026-01-28 20:23:06","url":"/api/appointments"}
{"level":"error","message":"Cannot find module 'axios'\nRequire stack:\n- /Users/yacn/Desktop/ıcy/backend/src/services/automation.js\n- /Users/yacn/Desktop/ıcy/backend/src/controllers/appointmentController.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/appointmentRoutes.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/index.js\n- /Users/yacn/Desktop/ıcy/backend/src/app.js\n- /Users/yacn/Desktop/ıcy/backend/src/server.js","method":"POST","service":"icy-backend","stack":"Error: Cannot find module 'axios'\nRequire stack:\n- /Users/yacn/Desktop/ıcy/backend/src/services/automation.js\n- /Users/yacn/Desktop/ıcy/backend/src/controllers/appointmentController.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/appointmentRoutes.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/index.js\n- /Users/yacn/Desktop/ıcy/backend/src/app.js\n- /Users/yacn/Desktop/ıcy/backend/src/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)\n    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)\n    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)\n    at Module._load (node:internal/modules/cjs/loader:1226:37)\n    at TracingChannel.traceSync (node:diagnostics_channel:328:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)\n    at Module.require (node:internal/modules/cjs/loader:1503:12)\n    at require (node:internal/modules/helpers:152:16)\n    at Object.<anonymous> (/Users/yacn/Desktop/ıcy/backend/src/services/automation.js:1:15)\n    at Module._compile (node:internal/modules/cjs/loader:1760:14)","timestamp":"2026-01-28 20:26:52","url":"/api/appointments"}
{"level":"error","message":"Cannot find module 'axios'\nRequire stack:\n- /Users/yacn/Desktop/ıcy/backend/src/services/automation.js\n- /Users/yacn/Desktop/ıcy/backend/src/controllers/appointmentController.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/appointmentRoutes.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/index.js\n- /Users/yacn/Desktop/ıcy/backend/src/app.js\n- /Users/yacn/Desktop/ıcy/backend/src/server.js","method":"POST","service":"icy-backend","stack":"Error: Cannot find module 'axios'\nRequire stack:\n- /Users/yacn/Desktop/ıcy/backend/src/services/automation.js\n- /Users/yacn/Desktop/ıcy/backend/src/controllers/appointmentController.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/appointmentRoutes.js\n- /Users/yacn/Desktop/ıcy/backend/src/routes/index.js\n- /Users/yacn/Desktop/ıcy/backend/src/app.js\n- /Users/yacn/Desktop/ıcy/backend/src/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1420:15)\n    at defaultResolveImpl (node:internal/modules/cjs/loader:1058:19)\n    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1063:22)\n    at Module._load (node:internal/modules/cjs/loader:1226:37)\n    at TracingChannel.traceSync (node:diagnostics_channel:328:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:245:24)\n    at Module.require (node:internal/modules/cjs/loader:1503:12)\n    at require (node:internal/modules/helpers:152:16)\n    at Object.<anonymous> (/Users/yacn/Desktop/ıcy/backend/src/services/automation.js:1:15)\n    at Module._compile (node:internal/modules/cjs/loader:1760:14)","timestamp":"2026-01-28 20:29:25","url":"/api/appointments"}
{"level":"error","message":"\nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:33:56\n\n  30 const start = new Date(d.setHours(0, 0, 0, 0));\n  31 const end = new Date(d.setHours(23, 59, 59, 999));\n  32 \n→ 33 const dailyInvoices = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2026-01-27T21:00:00.000Z\"),\n           lte: new Date(\"2026-01-28T20:59:59.999Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.","method":"GET","service":"icy-backend","stack":"PrismaClientValidationError: \nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:33:56\n\n  30 const start = new Date(d.setHours(0, 0, 0, 0));\n  31 const end = new Date(d.setHours(23, 59, 59, 999));\n  32 \n→ 33 const dailyInvoices = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2026-01-27T21:00:00.000Z\"),\n           lte: new Date(\"2026-01-28T20:59:59.999Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.\n    at wn (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async exports.getAnalytics (/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:33:35)","timestamp":"2026-01-28 20:33:13","url":"/api/analytics"}
{"level":"error","message":"\nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:33:56\n\n  30 const start = new Date(d.setHours(0, 0, 0, 0));\n  31 const end = new Date(d.setHours(23, 59, 59, 999));\n  32 \n→ 33 const dailyInvoices = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2026-01-27T21:00:00.000Z\"),\n           lte: new Date(\"2026-01-28T20:59:59.999Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.","method":"GET","service":"icy-backend","stack":"PrismaClientValidationError: \nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:33:56\n\n  30 const start = new Date(d.setHours(0, 0, 0, 0));\n  31 const end = new Date(d.setHours(23, 59, 59, 999));\n  32 \n→ 33 const dailyInvoices = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2026-01-27T21:00:00.000Z\"),\n           lte: new Date(\"2026-01-28T20:59:59.999Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.\n    at wn (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async exports.getAnalytics (/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:33:35)","timestamp":"2026-01-28 21:04:08","url":"/api/analytics"}
{"level":"error","message":"\nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.","method":"GET","service":"icy-backend","stack":"PrismaClientValidationError: \nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.\n    at wn (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async exports.getStats (/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:28)","timestamp":"2026-01-28 21:33:13","url":"/api/stats"}
{"level":"error","message":"\nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.","method":"GET","service":"icy-backend","stack":"PrismaClientValidationError: \nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.\n    at wn (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async exports.getStats (/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:28)","timestamp":"2026-01-28 21:33:13","url":"/api/stats"}
{"level":"error","message":"\nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.","method":"GET","service":"icy-backend","stack":"PrismaClientValidationError: \nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.\n    at wn (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async exports.getStats (/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:28)","timestamp":"2026-01-28 21:33:13","url":"/api/stats"}
{"level":"error","message":"\nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.","method":"GET","service":"icy-backend","stack":"PrismaClientValidationError: \nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.\n    at wn (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async exports.getStats (/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:28)","timestamp":"2026-01-28 21:33:13","url":"/api/stats"}
{"level":"error","message":"\nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.","method":"GET","service":"icy-backend","stack":"PrismaClientValidationError: \nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.\n    at wn (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async exports.getStats (/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:28)","timestamp":"2026-01-28 21:33:42","url":"/api/stats"}
{"level":"error","message":"\nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.","method":"GET","service":"icy-backend","stack":"PrismaClientValidationError: \nInvalid `prisma.invoice.aggregate()` invocation in\n/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:49\n\n  39 const patientGrowth = calcGrowth(newPatientsCheck, lastMonthPatients);\n  40 \n  41 // 3. Revenue (Real Invoices)\n→ 42 const revenueAgg = await prisma.invoice.aggregate({\n       select: {\n         _sum: {\n           select: {\n             amount: true\n           }\n         }\n       },\n       where: {\n         createdAt: {\n         ~~~~~~~~~\n           gte: new Date(\"2025-12-31T21:00:00.000Z\")\n         },\n     ?   AND?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   OR?: InvoiceWhereInput[],\n     ?   NOT?: InvoiceWhereInput | InvoiceWhereInput[],\n     ?   id?: StringFilter | String,\n     ?   amount?: FloatFilter | Float,\n     ?   currency?: StringFilter | String,\n     ?   status?: StringFilter | String,\n     ?   type?: StringFilter | String,\n     ?   description?: StringFilter | String,\n     ?   invoiceDate?: DateTimeFilter | DateTime,\n     ?   eInvoiceNumber?: StringNullableFilter | String | Null,\n     ?   patientId?: StringFilter | String,\n     ?   patient?: PatientRelationFilter | PatientWhereInput\n       }\n     })\n\nUnknown argument `createdAt`. Available options are marked with ?.\n    at wn (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at async l (/Users/yacn/Desktop/ıcy/backend/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at async exports.getStats (/Users/yacn/Desktop/ıcy/backend/src/controllers/statsController.js:42:28)","timestamp":"2026-01-28 21:33:42","url":"/api/stats"}
